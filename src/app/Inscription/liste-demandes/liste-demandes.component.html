<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

<div class="container" id="container">
    <div class="row">
        <div class="col-md-12">
            <div class="table-title">
                <div class="col-xs-20">
                    <a (click)="onOpenModal(demande, 'supprimerTous')" class="btn btn-danger" data-toggle="modal"><i
                            class="material-icons">&#xE15C;</i> <span>Supprimer tout</span></a>
                    <a class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>ajouter
                            role</span></a>

                </div>
                <div>

                </div>
                <h2>liste <b>des demandes </b>
                    <h5> ({{demandes.length}} demandes) </h5>
                </h2>
                <div class="row">
                    <div class="col-md-2">

                        <div class="form-outline">
                            <input [(ngModel)]="terme" name="terme" type="search" id="terme" data-toggle="modal" /><i
                                class="material-icons"></i>
                            <label class="form-label" for="form1">Search</label>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <table class="table table-striped">
                <thead>
                    <tr>



                        <th>status</th>
                        <th><span>nom</span></th>
                        <th><span>image</span></th>
                        <th><span>pays</span></th>
                        <th class="text-center"><span>Secteur</span></th>
                        <th><span>Email</span></th>
                        <th><span>Action</span></th>

                    </tr>


                </thead>
                <tbody>
                    <tr *ngFor="let demande of demandes | filter:terme | paginate : {
                            itemsPerPage:4,
                            currentPage:page,
                            totalItems:totalLength
                            }, let i=index">

                        <th>
                            <div>
                                <li><button
                                        [ngClass]="{'btn btn-success':demande.demandeStatus ,'btn btn-danger':!demande.demandeStatus}"
                                        type="button">
                                        <i class="fa fa-check-square"></i>
                                    </button>
                                </li>
                            </div>
                        </th>



                        <td>

                            <span class="label label-default">{{demande?.nom}}</span>
                        </td>

                        <td><img src="{{this._servicedemande.apiServeUrl+'/api/Imgdemande/'+demande.id}}"
                                style="height :100px;width:fil-content" alt="">


                        </td>
                        <td>
                            <span class="label label-default">{{demande.pays}}</span>
                        </td>
                        <td class="text-center">
                            <span class="label label-default">{{demande?.secteur_d_activite}}</span>
                        </td>
                        <td>
                            <span class="label label-default">{{demande?.email}}</span>

                        </td>
                        <td>
                            <div>
                                <!--<a   (click)="DeleteDemande(demande.id)"class="btn btn-danger" >
           <i  class="fa fa-trash-o fa-lg"></i> Delete</a>-->
                                <!--lien vers la page detaildemande-->
                                <a (click)="DeleteDemande(demande.id)" class="btn btn-default btn-sm">
                                    <i class=""></i> Delete
                                </a>

                                <a (click)="onAfficheDetail(demande.id)" class="btn btn-default btn-sm">
                                    <i class="fa fa-cog"></i> More
                                </a>
                            </div>

                        </td>
                    </tr>
                </tbody>
            </table>
            <pagination-controls (pageChange)="page = $event" class="text-center entreprisePagination">
            </pagination-controls>
        </div>
    </div>
</div>

<!-- Delete Modal HTML -->
<div id="deleteAllEmployeeModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="modal-header">
                    <h4 class="modal-title">Delete Employee</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Vous etes sure de supprimer tous les demandes ?</p>

                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-danger" value="Delete">
                </div>
            </form>
        </div>
    </div>
</div>
<!--table vert    jjjj-->